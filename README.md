# Patent Management System
*CS 490 Senior Project*

Currently, IP and patent management systems for inventors mostly are customer relationship
management systems that both lack simplicity and useability in design and lack a mechanism for alerting
patent applicants about expiration dates. Often, if submission or renewal dates are missed, the patent
application could be lost or not filed. 

The project aims to provide inventors a place to store and manage
their patent application information and potentially notify patent applicants of upcoming dates through
text and/or email.

## Project Structure

- Database entities' PHP schema is in [/src/Entity](/src/Entity), the migrations necessary to create them in SQL are in [/migrations](/migrations), and functions used to query the database are in [/src/Repository](/src/Repository)
- PHP page controllers are found in [/src/Controller](/src/Controller) and contain page logic, HTML/Twig templates used to build page structure are in [/templates](/templates), event listeners are in [/assets/controllers](/assets/controllers), and stylesheets are in [/assets/styles](/assets/styles)
- Form structure is generally in [/src/Form](/src/Form), with some exceptions in [/templates](/templates)
- Some configuration settings are in [/config/packages/security.yaml](/config/packages/security.yaml), mostly for access control

Most other files are autogenerated by Symfony and are either used to load the application or are unused.

## Documentation
Throughout the project, Markdown files are located in subdirectories, each named **README.md**. These contain additional information about the contents of the directory, and if not browsing the repository on GitHub where the Markdown document is autoloaded, should be read first.

In addition to Markdown files, there are diagrams that can be found in [/documentation](/documentation).

## Project Requirements
*Project requirements that are complete are marked as <font color="green">green</font>, requirements that are partially complete are marked as <font color="yellow">yellow</font>, requirements that are not complete are marked as <font color="red">red</font>.*

The project shall:
1. <font color="green">Use an Ubuntu Server Linux virtual machine to host all services required.</font>
2. <font color="green">Use an Apache2 web server to host the web interface.</font>
3. <font color="green">Use a MariaDB database to store and organize user information.</font>
4. <font color="green">Use PHP to program and serve the web interface.</font>
5. <font color="green">Make use of accounts necessary for access and use.</font>
    * See [Inventor entity](/src/Entity/Inventor.php), [Security page](src/Controller/SecurityController.php) and [form](/templates/security/login.html.twig), and [access control configuration](/config/packages/security.yaml)
6. <font color="green">Enforce unique usernames for accounts.</font> 
7. <font color="yellow">Include an overview of patent information for users on their personal home page.</font>
    * Users have a homepage that is personal to them, and allows them to navigate to different portions of the site, but overview information is not implemented
8. <font color="green">Provide users with a tabular view of all their patent information, able to be sorted by various
criteria</font> 
    * See [ViewTable controller](/src/Controller/ViewTableController.php), [Patent repository](/src/Repository/PatentRepository.php), and [table event listeners](/assets/controllers/table_controller.js)
9. <font color="green">Allow users to see detailed patent information when clicking on their patent in the tabular view.</font>
10. <font color="green">Allow users to see a list of dates tied to their patents and sort them by various date types
(expiration, submission, payment, etc.) </font>
    * See [ViewPatent controller](/src/Controller/ViewPatentController.php) and [respective event listeners](/assets/controllers/patent_controller.js)
11. <font color="green">Enable users to submit legal information, associated files, and enter dates respective to their patent applications to the database.</font>
    * See [patent and date forms](/src/Form) and their [respective Create controllers](/src/Controller/)
12. <font color="green">Limit users to files of a certain size when submitting associated files to their patent.</font>
    * See [patent form](/src/Form/CreatePatentType.php)
13. <font color="green">Restrict users to be only able to read database entries associated with their account when they are logged in.</font>
    * Page controllers have logic to check any query they run against the current active user's ID
14. Allow users to download a dump of information regarding all of their patents, or individual
patents.
    * See [download controller](/src/Controller/DownloadController.php)
15. <font color="green">Allow users to change the information, status, or dates of existing patents in the system.</font>
    * Logic for this can be found in [ViewPatent controller](/src/Controller/ViewPatentController.php) and [ViewDate controller](/src/Controller/ViewDateController.php)
16. <font color="green">Store PHP files and MariaDB schema in a private GitHub repository.</font>
    * [GitHub repository](https://github.com/CanadianBias/patent-management-system)

## Project Goals
*Project goals that are complete are marked as <font color="green">green</font>, goals that are partially complete are marked as <font color="yellow">yellow</font>, goals that are not complete are marked as <font color="red">red</font>.*
1. <font color="yellow">Automatically text/email inventors close to their upcoming dates.</font>
2. <font color="yellow">Add mandatory two-factor authentication with an available API to protect intellectual property.</font>
3. <font color="yellow">Create a secure backup location for the MariaDB database.</font>
    * This goal definition was slightly ambiguous in my original stating. I had intended that my database data would be available "offsite" in some location. In a sense, my database schema and some default data for some tables is stored in migration files, which are tracked in the Git repository, in a sense making them backed-up.
4. <font color="red">Allow the web interface to be customizable by the user.</font>
5. <font color="red">Migrate the Linux virtual machine services to a distinct physical system also running Linux.</font>
6. <font color="red">Use a permanent domain name for the web interface to reside</font>

In doing research in finding solutions to allow for email verifcation while signing up, or wanting to be emailed about patent dates, I realized I needed a fully registered domain name in order to utilize an email server. This wasn't really possible while operating on the school network using my personal computer. This last goal not being feasible kind of shot two other goals of mine in the foot.

## Server Configuration
### VirtualBox
Locally, this application is hosted on a Ubuntu Server  24.04 virtual machine running under Oracle's VirtualBox hypervisor. The machine was configured to use 1 host processor, 4GB of host memory, and 64GB of host storage. For the network, NAT is used with port forwading rules in the table below:

<table>
    <thead>
        <tr>
            <th>Name</th>
            <th>Protocol</th>
            <th>Host IP</th>
            <th>Host Port</th>
            <th>Guest IP</th>
            <th>Guest Port</th>
        <tr>
    </thead>
    <tbody>
        <tr>
            <td>HTTP</td>
            <td>TCP</td>
            <td>127.0.0.1</td>
            <td>80</td>
            <td></td>
            <td>80</td>
        </tr>
        <tr>
            <td>MySQL</td>
            <td>TCP</td>
            <td>127.0.0.1</td>
            <td>3306</td>
            <td></td>
            <td>3306</td>
        </tr>
        <tr>
            <td>SSH</td>
            <td>TCP</td>
            <td></td>
            <td>22</td>
            <td></td>
            <td>22</td>
        </tr>
    </tbody>
<table>

### Apache
Symfony is able to host itself without another service through the framework. However, in my project definitions, before I decided to move forward with a framework, I defined usage of Apache as a requirement. This require changing the default DirectoryRoot of Apache to where my Symfony project was located, and enabling some settings and downloading some dependencies in Apache.